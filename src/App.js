import React, {useState, useEffect} from 'react';
import './App.css';
import Gif from './Gif';
import rick from './rick.gif'
import CanvasDraw from "react-canvas-draw";

function App() {

  const [isLoaded, setIsLoaded] = useState(false);
  const [loadGif, setLoadGif] = useState(false);

  useEffect(() => {
    setTimeout(() => {
      setIsLoaded(true);
    }, 1000)
  }, [])

  let saveData = '{"lines":[{"points":[{"x":19.5,"y":71},{"x":19.5,"y":71},{"x":19.5,"y":68},{"x":19.5,"y":66},{"x":19.5,"y":61},{"x":19.5,"y":58},{"x":19.5,"y":54},{"x":19.5,"y":50},{"x":19.5,"y":46},{"x":20.5,"y":43},{"x":21.5,"y":40},{"x":22.5,"y":38},{"x":22.5,"y":37},{"x":23.5,"y":35},{"x":24.5,"y":33},{"x":25.5,"y":30},{"x":26.5,"y":28},{"x":27.5,"y":27},{"x":29.5,"y":26},{"x":30.5,"y":26},{"x":31.5,"y":26},{"x":33.5,"y":26},{"x":35.5,"y":26},{"x":36.5,"y":26},{"x":38.5,"y":29},{"x":39.5,"y":31},{"x":40.5,"y":34},{"x":41.5,"y":36},{"x":42.5,"y":39},{"x":42.5,"y":41},{"x":42.5,"y":43},{"x":42.5,"y":44},{"x":42.5,"y":46},{"x":42.5,"y":49},{"x":42.5,"y":53},{"x":42.5,"y":58},{"x":42.5,"y":62},{"x":42.5,"y":64},{"x":42.5,"y":66},{"x":42.5,"y":65},{"x":42.5,"y":62},{"x":42.5,"y":59},{"x":42.5,"y":56},{"x":42.5,"y":52},{"x":42.5,"y":48},{"x":42.5,"y":44},{"x":42.5,"y":41},{"x":42.5,"y":36},{"x":42.5,"y":31},{"x":43.5,"y":27},{"x":44.5,"y":24},{"x":46.5,"y":21},{"x":48.5,"y":20},{"x":49.5,"y":19},{"x":50.5,"y":18},{"x":51.5,"y":18},{"x":52.5,"y":18},{"x":53.5,"y":18},{"x":55.5,"y":18},{"x":57.5,"y":18},{"x":58.5,"y":19},{"x":60.5,"y":21},{"x":60.5,"y":24},{"x":61.5,"y":27},{"x":63.5,"y":30},{"x":63.5,"y":33},{"x":63.5,"y":36},{"x":63.5,"y":40},{"x":63.5,"y":44},{"x":64.5,"y":49},{"x":64.5,"y":53},{"x":65.5,"y":59},{"x":66.5,"y":62},{"x":66.5,"y":67},{"x":67.5,"y":70},{"x":67.5,"y":71},{"x":68.5,"y":73}],"brushColor":"#444","brushRadius":"2"},{"points":[{"x":81.5,"y":43},{"x":81.5,"y":43},{"x":81.5,"y":45},{"x":81.5,"y":52},{"x":81.5,"y":56},{"x":81.5,"y":61},{"x":81.5,"y":65},{"x":81.5,"y":67},{"x":81.5,"y":68},{"x":81.5,"y":69},{"x":82.5,"y":69},{"x":83.5,"y":69},{"x":84.5,"y":70},{"x":86.5,"y":70},{"x":88.5,"y":71},{"x":90.5,"y":72},{"x":92.5,"y":72},{"x":93.5,"y":72},{"x":94.5,"y":72},{"x":95.5,"y":71},{"x":95.5,"y":70},{"x":96.5,"y":68},{"x":96.5,"y":67},{"x":96.5,"y":66}],"brushColor":"#444","brushRadius":"2"},{"points":[{"x":81.5,"y":31},{"x":81.5,"y":31},{"x":81.5,"y":30}],"brushColor":"#444","brushRadius":"2"},{"points":[{"x":118.5,"y":42},{"x":118.5,"y":42},{"x":117.5,"y":42},{"x":116.5,"y":42},{"x":115.5,"y":43},{"x":114.5,"y":43},{"x":113.5,"y":44},{"x":113.5,"y":45},{"x":112.5,"y":46},{"x":111.5,"y":46},{"x":111.5,"y":47},{"x":111.5,"y":48},{"x":110.5,"y":48},{"x":110.5,"y":49},{"x":110.5,"y":50},{"x":110.5,"y":51},{"x":110.5,"y":53},{"x":110.5,"y":55},{"x":109.5,"y":57},{"x":109.5,"y":58},{"x":109.5,"y":60},{"x":109.5,"y":62},{"x":109.5,"y":63},{"x":109.5,"y":65},{"x":109.5,"y":66},{"x":109.5,"y":68},{"x":109.5,"y":69},{"x":110.5,"y":69},{"x":111.5,"y":70},{"x":113.5,"y":70},{"x":114.5,"y":70},{"x":115.5,"y":70},{"x":117.5,"y":70},{"x":118.5,"y":70},{"x":120.5,"y":70},{"x":121.5,"y":70},{"x":122.5,"y":70},{"x":123.5,"y":70},{"x":125.5,"y":69},{"x":126.5,"y":68},{"x":127.5,"y":68},{"x":128.5,"y":67},{"x":130.5,"y":66},{"x":131.5,"y":65},{"x":132.5,"y":64},{"x":132.5,"y":63},{"x":133.5,"y":62},{"x":133.5,"y":61}],"brushColor":"#444","brushRadius":"2"},{"points":[{"x":144.5,"y":20},{"x":144.5,"y":20},{"x":144.5,"y":21},{"x":144.5,"y":22},{"x":144.5,"y":24},{"x":144.5,"y":25},{"x":144.5,"y":27},{"x":144.5,"y":31},{"x":144.5,"y":37},{"x":144.5,"y":45},{"x":144.5,"y":50},{"x":146.5,"y":55},{"x":146.5,"y":58},{"x":146.5,"y":61},{"x":146.5,"y":62},{"x":146.5,"y":63},{"x":146.5,"y":64},{"x":146.5,"y":65},{"x":146.5,"y":66},{"x":146.5,"y":68},{"x":146.5,"y":71},{"x":147.5,"y":72},{"x":147.5,"y":74},{"x":147.5,"y":72},{"x":147.5,"y":70},{"x":147.5,"y":67},{"x":147.5,"y":63},{"x":147.5,"y":60},{"x":147.5,"y":57},{"x":147.5,"y":54},{"x":147.5,"y":51},{"x":147.5,"y":49},{"x":147.5,"y":48},{"x":147.5,"y":47},{"x":148.5,"y":46},{"x":148.5,"y":45},{"x":149.5,"y":45},{"x":150.5,"y":45},{"x":152.5,"y":45},{"x":154.5,"y":45},{"x":156.5,"y":45},{"x":159.5,"y":45},{"x":161.5,"y":45},{"x":164.5,"y":46},{"x":166.5,"y":47},{"x":167.5,"y":49},{"x":168.5,"y":50},{"x":168.5,"y":51},{"x":168.5,"y":53},{"x":168.5,"y":55},{"x":168.5,"y":57},{"x":168.5,"y":58},{"x":169.5,"y":60},{"x":169.5,"y":62},{"x":169.5,"y":63},{"x":169.5,"y":64},{"x":169.5,"y":65},{"x":169.5,"y":67},{"x":169.5,"y":68},{"x":171.5,"y":69}],"brushColor":"#444","brushRadius":"2"},{"points":[{"x":209.5,"y":43},{"x":209.5,"y":43},{"x":208.5,"y":43},{"x":206.5,"y":43},{"x":204.5,"y":43},{"x":202.5,"y":43},{"x":200.5,"y":43},{"x":198.5,"y":43},{"x":197.5,"y":43},{"x":196.5,"y":44},{"x":195.5,"y":45},{"x":194.5,"y":45},{"x":193.5,"y":46},{"x":192.5,"y":47},{"x":192.5,"y":48},{"x":191.5,"y":48},{"x":190.5,"y":51},{"x":189.5,"y":53},{"x":188.5,"y":55},{"x":188.5,"y":57},{"x":186.5,"y":59},{"x":186.5,"y":60},{"x":186.5,"y":62},{"x":186.5,"y":64},{"x":186.5,"y":65},{"x":189.5,"y":67},{"x":190.5,"y":68},{"x":192.5,"y":69},{"x":193.5,"y":69},{"x":196.5,"y":70},{"x":198.5,"y":70},{"x":200.5,"y":70},{"x":202.5,"y":70},{"x":203.5,"y":70},{"x":205.5,"y":70},{"x":206.5,"y":69},{"x":208.5,"y":68},{"x":209.5,"y":67},{"x":210.5,"y":65},{"x":211.5,"y":64},{"x":212.5,"y":61},{"x":213.5,"y":60},{"x":214.5,"y":56},{"x":214.5,"y":54},{"x":214.5,"y":53},{"x":214.5,"y":51},{"x":214.5,"y":50},{"x":214.5,"y":49},{"x":214.5,"y":48},{"x":214.5,"y":47},{"x":214.5,"y":46},{"x":214.5,"y":45},{"x":213.5,"y":45},{"x":213.5,"y":46},{"x":213.5,"y":48},{"x":213.5,"y":50},{"x":213.5,"y":52},{"x":214.5,"y":54},{"x":215.5,"y":56},{"x":216.5,"y":57},{"x":216.5,"y":58},{"x":217.5,"y":58},{"x":218.5,"y":59},{"x":219.5,"y":60},{"x":220.5,"y":60},{"x":220.5,"y":61},{"x":221.5,"y":61},{"x":222.5,"y":62},{"x":223.5,"y":62},{"x":225.5,"y":63},{"x":227.5,"y":63},{"x":229.5,"y":64},{"x":233.5,"y":64},{"x":235.5,"y":64},{"x":236.5,"y":64},{"x":238.5,"y":64},{"x":239.5,"y":64},{"x":240.5,"y":63},{"x":240.5,"y":62}],"brushColor":"#444","brushRadius":"2"},{"points":[{"x":247.5,"y":52},{"x":247.5,"y":52},{"x":250.5,"y":52},{"x":254.5,"y":52},{"x":256.5,"y":52},{"x":259.5,"y":52},{"x":260.5,"y":52},{"x":261.5,"y":52},{"x":262.5,"y":52},{"x":263.5,"y":51},{"x":264.5,"y":50},{"x":264.5,"y":49},{"x":264.5,"y":48},{"x":265.5,"y":47},{"x":265.5,"y":45},{"x":265.5,"y":44},{"x":265.5,"y":43},{"x":265.5,"y":42},{"x":265.5,"y":41},{"x":265.5,"y":40},{"x":265.5,"y":39},{"x":263.5,"y":39},{"x":262.5,"y":39},{"x":260.5,"y":39},{"x":259.5,"y":39},{"x":258.5,"y":39},{"x":256.5,"y":39},{"x":255.5,"y":39},{"x":253.5,"y":39},{"x":251.5,"y":39},{"x":250.5,"y":39},{"x":249.5,"y":40},{"x":248.5,"y":41},{"x":247.5,"y":41},{"x":247.5,"y":42},{"x":246.5,"y":43},{"x":246.5,"y":44},{"x":246.5,"y":45},{"x":246.5,"y":46},{"x":246.5,"y":48},{"x":246.5,"y":50},{"x":247.5,"y":53},{"x":248.5,"y":55},{"x":249.5,"y":58},{"x":250.5,"y":60},{"x":251.5,"y":62},{"x":252.5,"y":64},{"x":253.5,"y":65},{"x":254.5,"y":66},{"x":255.5,"y":67},{"x":256.5,"y":67},{"x":257.5,"y":67},{"x":259.5,"y":67},{"x":262.5,"y":67},{"x":264.5,"y":67},{"x":267.5,"y":67},{"x":269.5,"y":67},{"x":272.5,"y":66},{"x":275.5,"y":64},{"x":278.5,"y":62},{"x":279.5,"y":61},{"x":281.5,"y":60},{"x":282.5,"y":59}],"brushColor":"#444","brushRadius":"2"},{"points":[{"x":293.5,"y":24},{"x":293.5,"y":24},{"x":293.5,"y":27},{"x":293.5,"y":30},{"x":293.5,"y":34},{"x":293.5,"y":36},{"x":293.5,"y":38},{"x":293.5,"y":39},{"x":293.5,"y":40},{"x":293.5,"y":41},{"x":293.5,"y":43},{"x":293.5,"y":45},{"x":293.5,"y":48},{"x":293.5,"y":50},{"x":294.5,"y":51},{"x":294.5,"y":52},{"x":294.5,"y":54},{"x":294.5,"y":55},{"x":296.5,"y":57},{"x":296.5,"y":58},{"x":296.5,"y":60},{"x":296.5,"y":61},{"x":296.5,"y":62},{"x":297.5,"y":62},{"x":298.5,"y":63},{"x":299.5,"y":63},{"x":300.5,"y":63},{"x":302.5,"y":63},{"x":304.5,"y":64},{"x":306.5,"y":64},{"x":308.5,"y":64},{"x":309.5,"y":64},{"x":312.5,"y":64},{"x":314.5,"y":64},{"x":316.5,"y":64},{"x":317.5,"y":64},{"x":318.5,"y":63},{"x":318.5,"y":62},{"x":320.5,"y":60},{"x":320.5,"y":59},{"x":321.5,"y":58},{"x":321.5,"y":57}],"brushColor":"#444","brushRadius":"2"}],"width":400,"height":100}'

  const startGif = (e) => {
    if(isLoaded){
      console.log('starting?');
      setTimeout(() => {
        e.clear()
        setLoadGif(true);
      }, 300)
    }
  }

  return (
    <div className="App">
      <div className="namecard">
            <h1>THE <br/> CHUMBUCKET</h1>
            <CanvasDraw
            onChange={(e) => {startGif(e)}}
            brushRadius="20"
            brushColor= {'#FFF'}
            catenaryColor={'#FFF'}
            canvasHeight={100}
            saveData={saveData}
            lazyRadius={0}
            immediateLoading={true}
            hideGrid={true}
            />
      </div>

      {loadGif && <Gif url={rick} />}

    </div>
  );
}

export default App;


    // onChange={(e) => {console.log(e.getSaveData())}}
